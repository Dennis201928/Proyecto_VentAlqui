# Redirigir todo a /public/
RewriteEngine On

# Si la petición es para /Proyecto_VentAlqui/public/, permitirla directamente
RewriteCond %{REQUEST_URI} ^/Proyecto_VentAlqui/public/
RewriteRule ^ - [L]

# Si la petición es para un archivo físico existente en la raíz del proyecto (no en public/), servirlo
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_URI} !^/Proyecto_VentAlqui/public/
RewriteRule ^ - [L]

# Si la petición es para un directorio físico existente en la raíz del proyecto (no en public/), servirlo
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_URI} !^/Proyecto_VentAlqui/public/
RewriteRule ^ - [L]

# Si la petición viene desde la raíz del servidor (localhost/...), redirigir a /Proyecto_VentAlqui/public/
RewriteCond %{REQUEST_URI} !^/Proyecto_VentAlqui/
RewriteRule ^(.*)$ /Proyecto_VentAlqui/public/$1 [L,R=301]

# Si la petición viene desde /Proyecto_VentAlqui/ pero no desde /public/, redirigir a /public/
RewriteCond %{REQUEST_URI} ^/Proyecto_VentAlqui/
RewriteCond %{REQUEST_URI} !^/Proyecto_VentAlqui/public/
RewriteRule ^(.*)$ /Proyecto_VentAlqui/public/$1 [L,R=301]
